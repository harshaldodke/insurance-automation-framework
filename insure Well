
# Insurance Automation Framework

**Domain**: Insurance – Policy, Claims, Underwriting  
**Tech**: Selenium WebDriver | Java | TestNG | Maven | POM | Extent Reports | Jenkins

## Project Structure

```
insurance-automation-framework/
├─ .gitignore
├─ pom.xml
├─ Jenkinsfile
├─ README.md
├─ config.properties
├─ testng.xml
├─ extent-config.xml
└─ src
   ├─ main
   │  └─ java
   │     └─ com.insurewell.utils
   │        ├─ ConfigReader.java
   │        └─ TestListener.java
   └─ test
      └─ java
         └─ com.insurewell
            ├─ base
            │  └─ BaseTest.java
            ├─ pages
            │  ├─ LoginPage.java
            │  ├─ DashboardPage.java
            │  ├─ CreatePolicyPage.java
            │  └─ ClaimApprovalPage.java
            └─ tests
               ├─ LoginTest.java
               ├─ CreateHealthPolicyTest.java
               └─ ApproveRejectClaimTest.java
```

---

## Files (copy each into your project with the same path)

### `pom.xml`
```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
  http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <groupId>com.insurewell</groupId>
  <artifactId>insurance-automation-framework</artifactId>
  <version>1.0-SNAPSHOT</version>
  <properties>
    <maven.compiler.source>11</maven.compiler.source>
    <maven.compiler.target>11</maven.compiler.target>
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  </properties>

  <dependencies>
    <!-- Selenium -->
    <dependency>
      <groupId>org.seleniumhq.selenium</groupId>
      <artifactId>selenium-java</artifactId>
      <version>4.14.0</version>
    </dependency>

    <!-- TestNG -->
    <dependency>
      <groupId>org.testng</groupId>
      <artifactId>testng</artifactId>
      <version>7.8.1</version>
      <scope>test</scope>
    </dependency>

    <!-- WebDriverManager -->
    <dependency>
      <groupId>io.github.bonigarcia</groupId>
      <artifactId>webdrivermanager</artifactId>
      <version>5.5.0</version>
    </dependency>

    <!-- Extent Reports -->
    <dependency>
      <groupId>com.aventstack</groupId>
      <artifactId>extentreports</artifactId>
      <version>5.0.9</version>
    </dependency>

    <!-- Allure TestNG -->
    <dependency>
      <groupId>io.qameta.allure</groupId>
      <artifactId>allure-testng</artifactId>
      <version>2.20.1</version>
    </dependency>

    <!-- REST Assured (for future API tests) -->
    <dependency>
      <groupId>io.rest-assured</groupId>
      <artifactId>rest-assured</artifactId>
      <version>5.3.0</version>
    </dependency>

    <!-- Apache POI (optional) -->
    <dependency>
      <groupId>org.apache.poi</groupId>
      <artifactId>poi-ooxml</artifactId>
      <version>5.2.3</version>
    </dependency>

    <!-- Jackson -->
    <dependency>
      <groupId>com.fasterxml.jackson.core</groupId>
      <artifactId>jackson-databind</artifactId>
      <version>2.15.2</version>
    </dependency>
  </dependencies>

  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-surefire-plugin</artifactId>
        <version>3.1.2</version>
        <configuration>
          <suiteXmlFiles>
            <suiteXmlFile>testng.xml</suiteXmlFile>
          </suiteXmlFiles>
        </configuration>
      </plugin>

      <!-- Allure commandline to generate reports if installed on CI -->
      <plugin>
        <groupId>io.qameta.allure</groupId>
        <artifactId>allure-maven</artifactId>
        <version>2.11.2</version>
      </plugin>
    </plugins>
  </build>
</project>
```

---

### `.gitignore`
```
/target
*.log
*.iml
/.idea
/.vscode
.DS_Store
*.class
*.jar
reports/
allure-results/
allure-report/
```

---

### `config.properties`
```
base.url=https://insurewell.example.com
browser=chrome
headless=false
username=demo_user
password=Demo@123
```

---

### `testng.xml`
```xml
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd" >
<suite name="InsureWellSuite" parallel="false">
  <listeners>
    <listener class-name="com.insurewell.utils.TestListener"/>
  </listeners>
  <test name="InsureWellTests">
    <classes>
      <class name="com.insurewell.tests.LoginTest"/>
      <class name="com.insurewell.tests.CreateHealthPolicyTest"/>
      <class name="com.insurewell.tests.ApproveRejectClaimTest"/>
    </classes>
  </test>
</suite>
```

---

### `extent-config.xml`
```xml
<extentreports>
  <configuration>
    <reportName>InsureWell Automation Report</reportName>
    <documentTitle>InsureWell - Test Results</documentTitle>
  </configuration>
</extentreports>
```

---

### `Jenkinsfile`
```groovy
pipeline {
  agent any
  stages {
    stage('Checkout') { steps { checkout scm } }
    stage('Build') { steps { sh 'mvn -B -DskipTests clean package' } }
    stage('Run Tests') { steps { sh 'mvn test' } }
    stage('Archive Reports') {
      steps {
        archiveArtifacts artifacts: '**/target/surefire-reports/**', fingerprint: true
        junit 'target/surefire-reports/*.xml'
      }
    }
  }
  post { always { echo 'Pipeline finished' } }
}
```

---

### `README.md`
```markdown
# Insurance Automation Framework (InsureWell)

Automation template for InsureWell (Health Insurance) — Login, Create Policy (Health), Approve/Reject Claim.

## Tech
- Java 11
- Selenium WebDriver
- TestNG
- Maven
- Extent Reports + Allure hooks

## Setup
1. Clone repo
2. Create `config.properties` in project root (sample included)
3. Run tests: `mvn clean test`

## Notes
- Replace locators/URLs with real app values
- Allure generation requires allure commandline on CI or local machine
```

---

## Java source files

### `src/main/java/com/insurewell/utils/ConfigReader.java`
```java
package com.insurewell.utils;

import java.io.FileInputStream;
import java.io.InputStream;
import java.util.Properties;

public class ConfigReader {
    private static Properties prop = new Properties();
    static {
        try (InputStream input = new FileInputStream("config.properties")) {
            prop.load(input);
        } catch (Exception e) {
            System.out.println("Could not load config.properties: " + e.getMessage());
        }
    }
    public static String get(String key) {
        return prop.getProperty(key);
    }
}
```

---

### `src/main/java/com/insurewell/utils/TestListener.java`
```java
package com.insurewell.utils;

import org.testng.ITestContext;
import org.testng.ITestListener;
import org.testng.ITestResult;

public class TestListener implements ITestListener {
    @Override public void onTestStart(ITestResult result) {}
    @Override public void onTestSuccess(ITestResult result) { System.out.println("PASS: " + result.getName()); }
    @Override public void onTestFailure(ITestResult result) { System.out.println("FAIL: " + result.getName()); }
    @Override public void onTestSkipped(ITestResult result) { System.out.println("SKIP: " + result.getName()); }
    @Override public void onStart(ITestContext context) {}
    @Override public void onFinish(ITestContext context) {}
}
```

---

### `src/test/java/com/insurewell/base/BaseTest.java`
```java
package com.insurewell.base;

import com.insurewell.utils.ConfigReader;
import io.github.bonigarcia.wdm.WebDriverManager;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.chrome.ChromeOptions;
import org.testng.annotations.*;

import java.time.Duration;

public class BaseTest {
    protected static ThreadLocal<WebDriver> driver = new ThreadLocal<>();

    @BeforeClass(alwaysRun = true)
    public void setupClass() { }

    @BeforeMethod
    @Parameters({"headless"})
    public void setup(@Optional("false") String headless) {
        WebDriverManager.chromedriver().setup();
        ChromeOptions options = new ChromeOptions();
        if ("true".equalsIgnoreCase(headless) || "true".equalsIgnoreCase(ConfigReader.get("headless"))) {
            options.addArguments("--headless=new");
            options.addArguments("--disable-gpu");
        }
        options.addArguments("--no-sandbox");
        options.addArguments("--window-size=1920,1080");
        driver.set(new ChromeDriver(options));
        getDriver().manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
        getDriver().manage().window().maximize();
    }

    public WebDriver getDriver() { return driver.get(); }

    @AfterMethod
    public void teardown() {
        if (getDriver() != null) {
            getDriver().quit();
            driver.remove();
        }
    }
}
```

---

### `src/test/java/com/insurewell/pages/LoginPage.java`
```java
package com.insurewell.pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class LoginPage {
    private WebDriver driver;
    private By username = By.id("username");
    private By password = By.id("password");
    private By loginBtn = By.id("loginBtn");

    public LoginPage(WebDriver driver) { this.driver = driver; }

    public void open(String url) { driver.get(url); }
    public void enterUsername(String user) { driver.findElement(username).clear(); driver.findElement(username).sendKeys(user); }
    public void enterPassword(String pass) { driver.findElement(password).clear(); driver.findElement(password).sendKeys(pass); }
    public void clickLogin() { driver.findElement(loginBtn).click(); }
}
```

---

### `src/test/java/com/insurewell/pages/DashboardPage.java`
```java
package com.insurewell.pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class DashboardPage {
    private WebDriver driver;
    private By createPolicyNav = By.id("nav-create-policy");
    private By claimsNav = By.id("nav-claims");

    public DashboardPage(WebDriver driver) { this.driver = driver; }

    public boolean isPageLoaded() { return driver.getTitle().toLowerCase().contains("dashboard") || driver.findElements(createPolicyNav).size() > 0; }
    public void goToCreatePolicy() { driver.findElement(createPolicyNav).click(); }
    public void goToClaims() { driver.findElement(claimsNav).click(); }
}
```

---

### `src/test/java/com/insurewell/pages/CreatePolicyPage.java`
```java
package com.insurewell.pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class CreatePolicyPage {
    private WebDriver driver;
    private By policyHolderName = By.id("policyHolderName");
    private By dob = By.id("dob");
    private By planSelect = By.id("plan");
    private By submitBtn = By.id("createPolicy");
    private By successMsg = By.cssSelector(".alert-success");

    public CreatePolicyPage(WebDriver driver) { this.driver = driver; }

    public void enterHolderName(String name) { driver.findElement(policyHolderName).sendKeys(name); }
    public void enterDob(String date) { driver.findElement(dob).sendKeys(date); }
    public void selectPlan(String planValue) { driver.findElement(planSelect).sendKeys(planValue); }
    public void clickCreate() { driver.findElement(submitBtn).click(); }
    public boolean isSuccessShown() { return driver.findElements(successMsg).size() > 0; }
}
```

---

### `src/test/java/com/insurewell/pages/ClaimApprovalPage.java`
```java
package com.insurewell.pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

public class ClaimApprovalPage {
    private WebDriver driver;
    private By firstPendingClaim = By.cssSelector("table#claims tbody tr:first-child td.actions .view");
    private By approveBtn = By.id("approve");
    private By rejectBtn = By.id("reject");
    private By commentBox = By.id("comment");

    public ClaimApprovalPage(WebDriver driver) { this.driver = driver; }

    public void openFirstPendingClaim() { driver.findElement(firstPendingClaim).click(); }
    public void approve(String comment) {
        driver.findElement(commentBox).sendKeys(comment);
        driver.findElement(approveBtn).click();
    }
    public void reject(String comment) {
        driver.findElement(commentBox).sendKeys(comment);
        driver.findElement(rejectBtn).click();
    }
}
```

---

## Test classes (simplified examples)

### `src/test/java/com/insurewell/tests/LoginTest.java`
```java
package com.insurewell.tests;

import com.insurewell.base.BaseTest;
import com.insurewell.pages.DashboardPage;
import com.insurewell.pages.LoginPage;
import com.insurewell.utils.ConfigReader;
import org.testng.Assert;
import org.testng.annotations.Test;

public class LoginTest extends BaseTest {

    @Test
    public void validLoginTest() {
        LoginPage lp = new LoginPage(getDriver());
        String baseUrl = System.getProperty("base.url", ConfigReader.get("base.url"));
        lp.open(baseUrl + "/login");
        lp.enterUsername(ConfigReader.get("username"));
        lp.enterPassword(ConfigReader.get("password"));
        lp.clickLogin();

        DashboardPage dp = new DashboardPage(getDriver());
        Assert.assertTrue(dp.isPageLoaded(), "Dashboard should be loaded after login");
    }
}
```

---

### `src/test/java/com/insurewell/tests/CreateHealthPolicyTest.java`
```java
package com.insurewell.tests;

import com.insurewell.base.BaseTest;
import com.insurewell.pages.CreatePolicyPage;
import com.insurewell.pages.DashboardPage;
import com.insurewell.pages.LoginPage;
import com.insurewell.utils.ConfigReader;
import org.testng.Assert;
import org.testng.annotations.Test;

public class CreateHealthPolicyTest extends BaseTest {

    @Test
    public void createHealthPolicy() {
        String baseUrl = System.getProperty("base.url", ConfigReader.get("base.url"));
        LoginPage lp = new LoginPage(getDriver());
        lp.open(baseUrl + "/login");
        lp.enterUsername(ConfigReader.get("username"));
        lp.enterPassword(ConfigReader.get("password"));
        lp.clickLogin();

        DashboardPage dp = new DashboardPage(getDriver());
        dp.goToCreatePolicy();

        CreatePolicyPage cpp = new CreatePolicyPage(getDriver());
        cpp.enterHolderName("John Doe");
        cpp.enterDob("01-01-1985");
        cpp.selectPlan("Health Basic");
        cpp.clickCreate();

        Assert.assertTrue(cpp.isSuccessShown(), "Policy creation should show success message");
    }
}
```

---

### `src/test/java/com/insurewell/tests/ApproveRejectClaimTest.java`
```java
package com.insurewell.tests;

import com.insurewell.base.BaseTest;
import com.insurewell.pages.ClaimApprovalPage;
import com.insurewell.pages.DashboardPage;
import com.insurewell.pages.LoginPage;
import com.insurewell.utils.ConfigReader;
import org.testng.annotations.Test;

public class ApproveRejectClaimTest extends BaseTest {

    @Test
    public void approveClaimFlow() {
        String baseUrl = System.getProperty("base.url", ConfigReader.get("base.url"));
        LoginPage lp = new LoginPage(getDriver());
        lp.open(baseUrl + "/login");
        lp.enterUsername(ConfigReader.get("username"));
        lp.enterPassword(ConfigReader.get("password"));
        lp.clickLogin();

        DashboardPage dp = new DashboardPage(getDriver());
        dp.goToClaims();

        ClaimApprovalPage cap = new ClaimApprovalPage(getDriver());
        cap.openFirstPendingClaim();
        cap.approve("Approved by automation for test");

        // No assert here — adapt to your app; check toast or claim status via API/DB later
    }

    @Test
    public void rejectClaimFlow() {
        String baseUrl = System.getProperty("base.url", ConfigReader.get("base.url"));
        LoginPage lp = new LoginPage(getDriver());
        lp.open(baseUrl + "/login");
        lp.enterUsername(ConfigReader.get("username"));
        lp.enterPassword(ConfigReader.get("password"));
        lp.clickLogin();

        DashboardPage dp = new DashboardPage(getDriver());
        dp.goToClaims();

        ClaimApprovalPage cap = new ClaimApprovalPage(getDriver());
        cap.openFirstPendingClaim();
        cap.reject("Rejected by automation for test");

        // No assert here — adapt to your app; check toast or claim status via API/DB later
    }
}
```

---

## Next steps
- Copy the files into a local folder `insurance-automation-framework`
- `git init` → `git add .` → `git commit -m "Initial InsureWell automation framework"`
- Create repo on GitHub and push
- Update locators, URLs, and assertions to match the real InsureWell application

